{% extends 'teammanager/base.html' %}

{% block title %}Directory - Pigpen{% endblock %}

{% block style %}
  <style>
    .head {
      width: 150px;
      height: 150px;
      object-fit: cover;
    }
  </style>
{% endblock %}


{% block content %}
  <div class="container-fluid">
    {% for section in sections %}
      <h2 class="mt-4 mb-4 text-center">{{ section.title }}</h2>
      <div class="row justify-content-center mb-1">
        {% for position in section.positions %}
          <div class="col-sm-12 col-md-4 col-xl-2 mb-4 justify-content-center text-center">
            <img class="head rounded-circle mb-3" src="{{ position.member.get_avatar }}">
            <h5>{{ position.member }}</h5>
            <p class="small text-muted mb-0">{{ position.name }}</p>
          </div>
        {% endfor %}
      </div>
    {% endfor %}
  </div>
{% endblock %}


{% block a %}
  <div class="container-fluid">
    {% for family in families %}
      <h2 class="mt-4 mb-4 text-center">{{ family }}</h2>
      <div class="row justify-content-center mb-1">
        {% for member in family.member_set.all %}
          <div class="col-sm-12 col-md-4 col-xl-2 mb-4 justify-content-center text-center">
            <img class="head rounded-circle mb-3" src="{{ member.get_avatar }}">
            <h5>{{ member }}</h5>
            <p class="text-muted mb-0">{{ member.get_role_display }}</p>
            {% if member.subtitle %}
              <p class="small text-muted mb-0">{{ member.subtitle }}</p>
            {% endif %}
          </div>
        {% endfor %}
      </div>
      <hr class="my-1">
    {% endfor %}
    <h2 class="mt-4 mb-4 text-center">Everyone Else</h2>
    <div class="row justify-content-center mb-1">
      {% for member in singles %}
        <div class="col-sm-12 col-md-4 col-xl-2 mb-4 justify-content-center text-center">
          <img class="head rounded-circle mb-3" src="{{ member.get_avatar }}">
          <h5>{{ member }}</h5>
          <p class="text-muted mb-0">{{ member.get_role_display }}</p>
          {% if member.subtitle %}
            <p class="small text-muted mb-0">{{ member.subtitle }}</p>
          {% endif %}
        </div>
      {% endfor %}
    </div>
  </div>
{% endblock %}